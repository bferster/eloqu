<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<link REL="SHORTCUT ICON" HREF="img/favicon.ico">
		<title>eloq√∫ Oral History Player</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/themes/smoothness/jquery-ui.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"></script>
	</head>
	<style>
		 body { 			font-family:SegoeUI,Verdana,Geneva,sans-serif; font-size:14px; box-sizing:border-box; 
							padding:0; margin:0; position:fixed; width:100%; height:100vh; text-align:center
							}
		.divider {			position:absolute; height:calc(100vh - 106px); width:16px; top:32px; left:calc(50% - 8px); cursor:col-resize;
							}
		.script {			position:absolute; background-color: #fff; width:calc(50% - 24px); top:16px; left:16px;
							height:calc(100% - 80px); border-radius:16px; border: 1px solid #999;
							}
		.media {			position:absolute; background-color: #eee; width:calc(50% - 24px); top:16px; left:calc(50% + 8px);
							height:100%; height:calc(100% - 80px); border-radius:16px; border: 1px solid #999;
							}
		.control {			position:absolute; background-color: #eee; width:calc(100% - 32px); 
							border-radius:80px; border: 1px solid #999; height:32px; top:calc(100% - 48px); left:16px;
							}
						
		@font-face {  		font-family: SegoeUI; src: url(img/segoeui.ttf);   }

		body ::-webkit-scrollbar { width: 9px; height:8px } 
		body ::-webkit-scrollbar-track { background: transparent; }
		body ::-webkit-scrollbar-thumb { border-radius:8px ;background:#a4baec }
		body ::-webkit-scrollbar-thumb:hover { background: #a4baec }

</style>
<body>
	<div id="main" class="main">
		<div id="script" class="script">Script</div>
		<div id="media"  class="media">Media</div>
		<div id="divider" class="divider"></div>
		<div id="control"  class="control">Control</div>
	</div>




<script>

/////////////////////////////////////////////////////////////////////////////////////////////////
// MAIN 
/////////////////////////////////////////////////////////////////////////////////////////////////

	var app=null;
	
	$(document).ready(()=> {								           						// ON PAGE LOADED

		$(window).on("resize orientationchange", ()=>{ resize($("#divider").offset().left); })   // On window resize		
		$("#divider").hover(																// On divider hover
			()=>{$("#divider").css({"background-color":"#a4baec"});}, 						// Hilite
			()=>{$("#divider").css({"background-color":""});}								// Normal
			)
		$("#divider").draggable({															// On divider drag
			axis: "x",	containment:"parent",												// Contain
			drag:(event, ui)=>{ resize(ui.offset.left); }									// Resize on drag
			});
		
		function resize(l) {																// RESIZE PANES
			$("#script").css("width",l-16);													// Script
			$("#media").css({left:l+16,width:$(window).width()-l-32});						// Media
			}		
		});


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// APP
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class App  {																					

	constructor()   																			// CONSTRUCTOR
	{
		app=this;																					// App global pointer
		}

	HandleKeyStroke(e)																			// HANDLE KEYSTROKE
	{
		e.stopImmediatePropagation();																// Stop propagation
	}
		

}	// App class closure



/////////////////////////////////////////////////////////////////////////////////////////////////
// HELPERS 
/////////////////////////////////////////////////////////////////////////////////////////////////

function trace(msg, p1, p2, p3, p4)																// CONSOLE 
	{
		if (p4 != undefined)
			console.log(msg,p1,p2,p3,p4);
		else if (p3 != undefined)
			console.log(msg,p1,p2,p3);
		else if (p2 != undefined)
			console.log(msg,p1,p2);
		else if (p1 != undefined)
			console.log(msg,p1);
		else
			console.log(msg);
	}

	function Sound(sound, mute)																		// PLAY SOUND
	{
		var snd=new Audio();																			// Init audio object
		if (sound.match(/\.mp3/i))		snd=new Audio(sound)											// If an MP3 file
		else							snd=new Audio("img/"+sound+".mp3");								// Use built in mp3
		if (!mute)	{																					// If not initing or muting	
			snd.volume=100/100;																			// Set volume
			snd.play();																					// Play it
			}
	}

	function PopUp(msg, time, div)																	// TIMED POPUP
	{
		var str="";
		$("#popupDiv").remove();																		// Kill old one, if any
		str+="<div id='popupDiv' class='mq-popup'>"; 													// Add div
		if (time == -1) {																				// If has close but
			time=100000;																				// Increase time
			str+="<img id='pu-close' src='img/closedot.gif' style='float:right;cursor:pointer'>";		// Add close button
			}
		str+=msg+"</div>"; 																				// Add div
		$(div ? "#"+div : "body").append(str);															// Add popup to div or body
		$("#pu-close").click(function() { $("#popupDiv").remove(); });									// Remove on click of close but
		$("#popupDiv").fadeIn(500).delay(time ? time*1000 : 3000).fadeOut(500);							// Animate in and out		
	}

</script>
</body>
</html>
